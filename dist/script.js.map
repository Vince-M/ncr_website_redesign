{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","main","document","querySelector","body","footer","btnOpen","btnClose","menuTopNav","overlay","breakpoint","window","matchMedia","menu","nav__items","querySelectorAll","btnHamburger","faders","setupTopNav","matches","setAttribute","removeAttribute","openMobileMenu","style","transitionDuration","bodyScrollLock","disableBodyScroll","focus","closeMobileMenu","enableBodyScroll","setTimeout","toggleItem","this","classList","contains","remove","add","addEventListener","_step","_iterator","nav__item","err","closeSubmenu","target","appearOptions","threshold","rootMargin","appearOnScroll","IntersectionObserver","entries","forEach","entry","isIntersecting","unobserve","fader","observe"],"mappings":"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","file":"script.js","sourcesContent":["// console.log('HELLO');\n\nconst main = document.querySelector('#main');\nconst body = document.querySelector('body');\nconst footer = document.querySelector('#footer');\nconst btnOpen = document.querySelector('#btnOpen');\nconst btnClose = document.querySelector('#btnClose');\nconst menuTopNav = document.querySelector('#menuTopNav');\nconst overlay = document.querySelector('#overlay');\nconst breakpoint = window.matchMedia('(width < 30em)');\nconst menu = document.querySelector(\".menu\");\nconst nav__items = document.querySelectorAll(\".nav__item\");\nconst btnHamburger = document.querySelector('#btnHamburger');\nconst faders = document.querySelectorAll(\".fade-in\");\n\n\nconst setupTopNav = () => {\n  if (breakpoint.matches) {\n    // console.log('is mobile');\n    menuTopNav.setAttribute('inert', '');\n  }\n  else {\n    // console.log('is tablet/desktop');\n    menuTopNav.removeAttribute('inert');\n  }\n}\n\n\n\n// setupTopNav();\n\nbtnOpen.addEventListener('click', openMobileMenu);\nbtnClose.addEventListener('click', closeMobileMenu);\n\nbreakpoint.addEventListener('change', () => {\n  // console.log('breakpoint crossed');\n  setupTopNav();\n});\n\nfunction openMobileMenu() {\n  // console.log('run open mobile menu');\n  btnOpen.setAttribute('aria-expanded', 'true');\n  main.setAttribute('inert', '');\n  footer.setAttribute('inert', '');\n  menuTopNav.removeAttribute('inert');\n  menuTopNav.style.transitionDuration = '400ms';\n  overlay.style.transitionDuration = '400ms';\n  bodyScrollLock.disableBodyScroll(menuTopNav);\n  btnClose.focus();\n}\n\nfunction closeMobileMenu() {\n  // console.log('run close mobile menu');\n  btnOpen.setAttribute('aria-expanded', 'false');\n  main.removeAttribute('inert');\n  footer.removeAttribute('inert');\n  menuTopNav.setAttribute('inert', '');\n  bodyScrollLock.enableBodyScroll(menuTopNav);\n  btnOpen.focus();\n  \n  setTimeout(() => {\n    menuTopNav.removeAttribute('style');\n    overlay.removeAttribute('style');\n  }, 500);\n}\n\n\n\n// Submenu\nfunction toggleItem() {\n  if (this.classList.contains(\"sub-menu-active\")) {\n    this.classList.remove(\"sub-menu-active\");\n  } else if (menu.querySelector(\".sub-menu-active\")) {\n    menu.querySelector(\".sub-menu-active\").classList.remove(\"sub-menu-active\");\n    this.classList.add(\"sub-menu-active\");\n  } else {\n    this.classList.add(\"sub-menu-active\");\n  }\n}\n\nfor (let nav__item of nav__items) {\n  if (nav__item.querySelector(\".sub-menu\")) {\n    nav__item.addEventListener(\"click\", toggleItem, false);\n    nav__item.addEventListener(\"keypress\", toggleItem, false);\n  }\n}\n\n// Close submenu from anywhere on page\nfunction closeSubmenu(e) {\n  let isClickInside = menu.contains(e.target);\n\n  if (!isClickInside && menu.querySelector(\".sub-menu-active\")) {\n    menu.querySelector(\".submenu-active\").classList.remove(\"sub-menu-active\");\n  }\n}\n\ndocument.addEventListener(\"click\", closeSubmenu, false);\n\n\n// Intersection Observer\n\nconst appearOptions = {\n  threshold: 1,\n  rootMargin: \"0px 0px -10px 0px\"\n};\n\nconst appearOnScroll = new IntersectionObserver (function(\n    entries, \n    appearOnScroll\n) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      return;\n    } else {\n      entry.target.classList.add('appear');\n      appearOnScroll.unobserve(entry.target);\n    }\n  });\n}, \nappearOptions);\n\nfaders.forEach(fader => {\n  appearOnScroll.observe(fader);\n});"]}