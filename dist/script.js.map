{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","main","document","querySelector","body","footer","btnOpen","btnClose","menuTopNav","overlay","breakpoint","window","matchMedia","setupTopNav","matches","setAttribute","removeAttribute","openMobileMenu","style","transitionDuration","bodyScrollLock","disableBodyScroll","focus","closeMobileMenu","enableBodyScroll","setTimeout","toggleItem","this","classList","contains","remove","menu","add","addEventListener","_step","_iterator","nav__items","nav__item","err","closeSubmenu","target"],"mappings":"AAAA,aAEA,SAASA,2BAA2BC,EAAGC,GAAK,IAAIC,EAAI,oBAAsBC,QAAUH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAG,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAAIK,4BAA4BP,KAAOC,GAAKD,GAAK,iBAAmBA,EAAEQ,OAAQ,CAAEN,IAAMF,EAAIE,GAAI,IAAIO,EAAK,EAAGC,EAAI,WAAc,EAAG,MAAO,CAAEC,EAAGD,EAAGE,EAAG,WAAe,OAAOH,GAAMT,EAAEQ,OAAS,CAAEK,MAAM,GAAO,CAAEA,MAAM,EAAIC,MAAOd,EAAES,KAAS,EAAGR,EAAG,SAAWD,GAAK,MAAMA,CAAG,EAAGe,EAAGL,EAAK,CAAE,MAAM,IAAIM,UAAU,wIAA0I,CAAE,IAAIC,EAAGC,GAAI,EAAIC,GAAI,EAAI,MAAO,CAAER,EAAG,WAAeT,EAAIA,EAAEkB,KAAKpB,EAAI,EAAGY,EAAG,WAAe,IAAIZ,EAAIE,EAAEmB,OAAQ,OAAOH,EAAIlB,EAAEa,KAAMb,CAAG,EAAGC,EAAG,SAAWD,GAAKmB,GAAI,EAAIF,EAAIjB,CAAG,EAAGe,EAAG,WAAe,IAAMG,GAAK,MAAQhB,EAAU,QAAKA,EAAU,QAAK,CAAE,QAAU,GAAIiB,EAAG,MAAMF,CAAG,CAAE,EAAK,CAC31B,SAASV,4BAA4BP,EAAGkB,GAAK,GAAIlB,EAAG,CAAE,GAAI,iBAAmBA,EAAG,OAAOsB,kBAAkBtB,EAAGkB,GAAI,IAAIhB,EAAI,CAAC,EAAEqB,SAASH,KAAKpB,GAAGwB,MAAM,GAAI,GAAI,MAAO,WAAatB,GAAKF,EAAEyB,cAAgBvB,EAAIF,EAAEyB,YAAYC,MAAO,QAAUxB,GAAK,QAAUA,EAAIG,MAAMsB,KAAK3B,GAAK,cAAgBE,GAAK,2CAA2C0B,KAAK1B,GAAKoB,kBAAkBtB,EAAGkB,QAAK,CAAQ,CAAE,CACzX,SAASI,kBAAkBtB,EAAGkB,IAAM,MAAQA,GAAKA,EAAIlB,EAAEQ,UAAYU,EAAIlB,EAAEQ,QAAS,IAAK,IAAIP,EAAI,EAAGW,EAAIP,MAAMa,GAAIjB,EAAIiB,EAAGjB,IAAKW,EAAEX,GAAKD,EAAEC,GAAI,OAAOW,CAAG,CAFnJ,IAAMiB,KAAOC,SAASC,cAAc,SAC9BC,KAAOF,SAASC,cAAc,QAC9BE,OAASH,SAASC,cAAc,WAChCG,QAAUJ,SAASC,cAAc,YACjCI,SAAWL,SAASC,cAAc,aAClCK,WAAaN,SAASC,cAAc,eACpCM,QAAUP,SAASC,cAAc,YACjCO,WAAaC,OAAOC,WAAW,kBAE/BC,YAAc,WACdH,WAAWI,QAEbN,WAAWO,aAAa,QAAS,IAIjCP,WAAWQ,gBAAgB,QAE/B,EAYA,SAASC,iBAEPX,QAAQS,aAAa,gBAAiB,QACtCd,KAAKc,aAAa,QAAS,IAC3BV,OAAOU,aAAa,QAAS,IAC7BP,WAAWQ,gBAAgB,SAC3BR,WAAWU,MAAMC,mBAAqB,QACtCV,QAAQS,MAAMC,mBAAqB,QACnCC,eAAeC,kBAAkBb,YACjCD,SAASe,OACX,CAEA,SAASC,kBAEPjB,QAAQS,aAAa,gBAAiB,SACtCd,KAAKe,gBAAgB,SACrBX,OAAOW,gBAAgB,SACvBR,WAAWO,aAAa,QAAS,IACjCK,eAAeI,iBAAiBhB,YAChCF,QAAQgB,QAERG,YAAW,WACTjB,WAAWQ,gBAAgB,SAC3BP,QAAQO,gBAAgB,QAC1B,GAAG,IACL,CAKA,SAASU,aACHC,KAAKC,UAAUC,SAAS,mBAC1BF,KAAKC,UAAUE,OAAO,mBACbC,KAAK5B,cAAc,qBAC5B4B,KAAK5B,cAAc,oBAAoByB,UAAUE,OAAO,mBACxDH,KAAKC,UAAUI,IAAI,oBAEnBL,KAAKC,UAAUI,IAAI,kBAEvB,CAjDAnB,cAEAP,QAAQ2B,iBAAiB,QAAShB,gBAClCV,SAAS0B,iBAAiB,QAASV,iBAEnCb,WAAWuB,iBAAiB,UAAU,WAEpCpB,aACF,IAyCC,IAE+BqB,MAF/BC,UAAAhE,2BAEqBiE,YAAU,IAAhC,IAAAD,UAAApD,MAAAmD,MAAAC,UAAAnD,KAAAC,MAAkC,CAAA,IAAzBoD,UAASH,MAAAhD,MACZmD,UAAUlC,cAAc,eAC1BkC,UAAUJ,iBAAiB,QAASP,YAAY,GAChDW,UAAUJ,iBAAiB,WAAYP,YAAY,GAEvD,CAEA,CAAA,MAAAY,GAAAH,UAAA9D,EAAAiE,EAAA,CAAA,QAAAH,UAAAhD,GAAA,CACA,SAASoD,aAAalE,IACA0D,KAAKF,SAASxD,EAAEmE,SAEdT,KAAK5B,cAAc,qBACvC4B,KAAK5B,cAAc,mBAAmByB,UAAUE,OAAO,kBAE3D,CAEA5B,SAAS+B,iBAAiB,QAASM,cAAc","file":"script.js","sourcesContent":["// console.log('HELLO');\n\nconst main = document.querySelector('#main');\nconst body = document.querySelector('body');\nconst footer = document.querySelector('#footer');\nconst btnOpen = document.querySelector('#btnOpen');\nconst btnClose = document.querySelector('#btnClose');\nconst menuTopNav = document.querySelector('#menuTopNav');\nconst overlay = document.querySelector('#overlay');\nconst breakpoint = window.matchMedia('(width < 30em)');\n\nconst setupTopNav = () => {\n  if (breakpoint.matches) {\n    // console.log('is mobile');\n    menuTopNav.setAttribute('inert', '');\n  }\n  else {\n    // console.log('is tablet/desktop');\n    menuTopNav.removeAttribute('inert');\n  }\n}\n\nsetupTopNav();\n\nbtnOpen.addEventListener('click', openMobileMenu);\nbtnClose.addEventListener('click', closeMobileMenu);\n\nbreakpoint.addEventListener('change', () => {\n  // console.log('breakpoint crossed');\n  setupTopNav();\n});\n\nfunction openMobileMenu() {\n  // console.log('run open mobile menu');\n  btnOpen.setAttribute('aria-expanded', 'true');\n  main.setAttribute('inert', '');\n  footer.setAttribute('inert', '');\n  menuTopNav.removeAttribute('inert');\n  menuTopNav.style.transitionDuration = '400ms';\n  overlay.style.transitionDuration = '400ms';\n  bodyScrollLock.disableBodyScroll(menuTopNav);\n  btnClose.focus();\n}\n\nfunction closeMobileMenu() {\n  // console.log('run close mobile menu');\n  btnOpen.setAttribute('aria-expanded', 'false');\n  main.removeAttribute('inert');\n  footer.removeAttribute('inert');\n  menuTopNav.setAttribute('inert', '');\n  bodyScrollLock.enableBodyScroll(menuTopNav);\n  btnOpen.focus();\n  \n  setTimeout(() => {\n    menuTopNav.removeAttribute('style');\n    overlay.removeAttribute('style');\n  }, 500);\n}\n\n\n\n// Submenu\nfunction toggleItem() {\n  if (this.classList.contains(\"sub-menu-active\")) {\n    this.classList.remove(\"sub-menu-active\");\n  } else if (menu.querySelector(\".sub-menu-active\")) {\n    menu.querySelector(\".sub-menu-active\").classList.remove(\"sub-menu-active\");\n    this.classList.add(\"sub-menu-active\");\n  } else {\n    this.classList.add(\"sub-menu-active\");\n  }\n}\n\nfor (let nav__item of nav__items) {\n  if (nav__item.querySelector(\".sub-menu\")) {\n    nav__item.addEventListener(\"click\", toggleItem, false);\n    nav__item.addEventListener(\"keypress\", toggleItem, false);\n  }\n}\n\n// Close submenu from anywhere on page\nfunction closeSubmenu(e) {\n  let isClickInside = menu.contains(e.target);\n\n  if (!isClickInside && menu.querySelector(\".sub-menu-active\")) {\n    menu.querySelector(\".submenu-active\").classList.remove(\"sub-menu-active\");\n  }\n}\n\ndocument.addEventListener(\"click\", closeSubmenu, false);\n"]}